- hosts: all

  pre_tasks:
  - include_tasks: tasks/ubuntu_desktop.yml
  - include_tasks: tasks/basicsetup.yml
  - include_tasks: tasks/java.yml

  roles:
  - role: bash
  - role: tmux

  - role: git-tools
    vars:
      git_aliases: true
      git_rerere: true
      git_editor_nano: true
      git_user_name: "BacLuc"
      git_user_email: "lucius.bachmann@gmx.ch"

  - role: docker
  - role: okular

  - role: ansible-role-intellij
    vars:
      intellij_version: '2021.3.1'
      intellij_edition: 'community'
      users:
        - username: '{{ ansible_env.USER }}'
          intellij_jdks:
            - name: '11'
              home: '{{ jdk11_home }}'
          intellij_default_jdk: '11'
          intellij_disabled_plugins:
            - org.jetbrains.plugins.gradle
            - CVS
            - com.intellij.uiDesigner
            - org.jetbrains.android
            - TestNG-J
            - hg4idea
            - Subversion
            - AntSupport
            - DevKit
            - Kotlin

  - role: ansible-role-visual-studio-code

  post_tasks:
    - include_tasks: tasks/ubuntu_cleanup.yml
